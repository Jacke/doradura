# ๐ ะัะฟัะฐะฒะปะตะฝะธะต ะฟัะพะฑะปะตะผั ั Cookies ะฝะฐ macOS

## ๐ด ะัะพะฑะปะตะผะฐ:

ะะฐ macOS **Chrome ะธ Safari ััะตะฑััั ัะฟะตัะธะฐะปัะฝัั ะฟัะฐะฒ** ะดะปั ะดะพัััะฟะฐ ะบ cookies:
- **Chrome:** ะขัะตะฑัะตั ะดะพัััะฟ ะบ Keychain (ัะฐััะธััะพะฒะบะฐ v10 cookies)
- **Safari:** ะขัะตะฑัะตั Full Disk Access ะดะปั ััะตะฝะธั `~/Library/Containers/com.apple.Safari/`

**ะกะธะผะฟัะพะผั:**
```
[WARN] โ๏ธ  NO COOKIES CONFIGURED!
[ERROR] Operation not permitted: '/Users/stan/Library/Containers/com.apple.Safari/...'
```
ะธะปะธ
```
Extracted 0 cookies from chrome (8136 could not be decrypted)
ERROR: Only images are available for download
```

ะะท-ะทะฐ ััะพะณะพ ะฒ ะพะฑััะฝะพะผ ะพะบััะถะตะฝะธะธ cookies **ะฝะต ะธะทะฒะปะตะบะฐัััั**, ะธ ะฑะพั ะฒะธะดะธั ัะพะปัะบะพ ะบะฐััะธะฝะบะธ ะฒะผะตััะพ ะฒะธะดะตะพ.

---

## โ ะะตัะตะฝะธะต: ะญะบัะฟะพัั cookies ะฒ ัะฐะนะป

ะญะบัะฟะพััะธัะพะฒะฐะฝะฝัะน ัะฐะนะป cookies **ะฝะต ััะตะฑัะตั ัะฟะตัะธะฐะปัะฝัั ะฟัะฐะฒ** ะธ ัะฐะฑะพัะฐะตั ะธะดะตะฐะปัะฝะพ.

### ะจะฐะณ 1: ะฃััะฐะฝะพะฒะธ ัะฐััะธัะตะฝะธะต ะดะปั ะฑัะฐัะทะตัะฐ

**ะะปั Chrome:**
1. ะัะบัะพะน: https://chrome.google.com/webstore/detail/get-cookiestxt-locally/cclelndahbckbenkjhflpdbgdldlbecc
2. ะะฐะถะผะธ "Add to Chrome"

**ะะปั Firefox:**
1. ะัะบัะพะน: https://addons.mozilla.org/en-US/firefox/addon/cookies-txt/
2. ะะฐะถะผะธ "Add to Firefox"

### ะจะฐะณ 2: ะะฐะปะพะณะธะฝััั ะฝะฐ YouTube

1. ะัะบัะพะน YouTube: https://youtube.com
2. ะะพะนะดะธ ะฒ ัะฒะพะน Google ะฐะบะบะฐัะฝั
3. ะะพัะผะพััะธ ะปัะฑะพะต ะฒะธะดะตะพ (ััะพะฑั cookies ัะพััะฐะฝะธะปะธัั)

### ะจะฐะณ 3: ะญะบัะฟะพััะธััะน cookies

1. **ะะฐ ัััะฐะฝะธัะต YouTube** ะฝะฐะถะผะธ ะฝะฐ ะธะบะพะฝะบั ัะฐััะธัะตะฝะธั
2. ะะฐะถะผะธ "Export" ะธะปะธ "Download"
3. ะกะพััะฐะฝะธ ัะฐะนะป ะบะฐะบ `youtube_cookies.txt`

### ะจะฐะณ 4: ะกะบะพะฟะธััะน ัะฐะนะป ะฒ ะดะธัะตะบัะพัะธั ะฟัะพะตะบัะฐ

```bash
# ะะตัะตะธะผะตะฝัะน ะธ ัะบะพะฟะธััะน ัะฐะนะป
mv ~/Downloads/youtube.com_cookies.txt /Users/stan/Dev/_PROJ/doradura/youtube_cookies.txt

# ะฃััะฐะฝะพะฒะธ ะฑะตะทะพะฟะฐัะฝัะต ะฟัะฐะฒะฐ ะดะพัััะฟะฐ
chmod 600 /Users/stan/Dev/_PROJ/doradura/youtube_cookies.txt
```

### ะจะฐะณ 5: ะะฐะฟัััะธ ะฑะพัะฐ ัะพ ัะบัะธะฟัะพะผ

```bash
cd /Users/stan/Dev/_PROJ/doradura
./run_with_cookies.sh
```

ะะปะธ ะฒัััะฝัั:

```bash
cd /Users/stan/Dev/_PROJ/doradura
export YTDL_COOKIES_FILE=youtube_cookies.txt
cargo run --release
```

---

## ๐ ะัะพะฒะตัะบะฐ ัะฐะฑะพัั:

```bash
# ะัะพะฒะตัั, ััะพ ัะฐะนะป ัััะตััะฒัะตั
ls -la /Users/stan/Dev/_PROJ/doradura/youtube_cookies.txt

# ะัะพะฒะตัั, ััะพ yt-dlp ะผะพะถะตั ะธัะฟะพะปัะทะพะฒะฐัั cookies
yt-dlp --cookies youtube_cookies.txt --print "%(title)s" "https://www.youtube.com/watch?v=dQw4w9WgXcQ"
```

ะัะปะธ ะบะพะผะฐะฝะดะฐ ะฒัะฒะตะปะฐ ะฝะฐะทะฒะฐะฝะธะต ะฒะธะดะตะพ - **ะฒัั ัะฐะฑะพัะฐะตั!** โ

---

## ๐ ะงัะพ ะฑัะดะตั ะฒ ะปะพะณะฐั:

ะัะธ ะทะฐะฟััะบะต ะฑะพั ะฟะพะบะฐะถะตั:
```
[INFO] Using cookies from file: youtube_cookies.txt
[DEBUG] Using player_client: web,ios,tv_embedded (cookies enabled)
```

---

## โ๏ธ ะะฐะถะฝะพ:

1. **Cookies ัััะฐัะตะฒะฐัั ัะตัะตะท 2-4 ะฝะตะดะตะปะธ** - ะฝัะถะฝะพ ะฑัะดะตั ะฟะตัะตัะบัะฟะพััะธัะพะฒะฐัั
2. **ะะ ะบะพะผะผะธัะธัั ัะฐะนะป ะฒ git** - ะพะฝ ัะถะต ะฒ `.gitignore`
3. **ะะตะทะพะฟะฐัะฝะพััั:** `chmod 600 youtube_cookies.txt` (ัะพะปัะบะพ ะฒะปะฐะดะตะปะตั ะผะพะถะตั ัะธัะฐัั)

---

## ๐ฏ ะะพัะตะผั ััะพ ัะฐะฑะพัะฐะตั:

| ะะตัะพะด | macOS Sandbox | ะขัะตะฑัะตั ะฟัะฐะฒ |
|-------|---------------|--------------|
| Chrome cookies | โ ะะต ัะฐะฑะพัะฐะตั | Keychain access |
| Safari cookies | โ ะะต ัะฐะฑะพัะฐะตั | File access |
| **ะคะฐะนะป cookies** | โ **ะะฐะฑะพัะฐะตั** | **ะะตั** |

ะคะฐะนะป cookies - ััะพ ะพะฑััะฝัะน ัะตะบััะพะฒัะน ัะฐะนะป, ะบะพัะพััะน ะฝะต ััะตะฑัะตั ัะฟะตัะธะฐะปัะฝัั ะฟัะฐะฒ ะดะพัััะฟะฐ.

---

## ๐ ะัะปะธ ะฝะต ัะฐะฑะพัะฐะตั:

### 1. ะัะพะฒะตัั ัะพัะผะฐั ัะฐะนะปะฐ

ะคะฐะนะป ะดะพะปะถะตะฝ ะฝะฐัะธะฝะฐัััั ั:
```
# Netscape HTTP Cookie File
```

### 2. ะัะพะฒะตัั, ััะพ ัั ะทะฐะปะพะณะธะฝะตะฝ

ะัะบัะพะน YouTube ะฒ ัะพะผ ะถะต ะฑัะฐัะทะตัะต ะธ ัะฑะตะดะธัั, ััะพ ัั ะทะฐะปะพะณะธะฝะตะฝ.

### 3. ะะพะฟัะพะฑัะน ะดััะณะพะน ะฑัะฐัะทะตั

ะัะปะธ Chrome ะฝะต ัะฐะฑะพัะฐะตั, ะฟะพะฟัะพะฑัะน Firefox.

### 4. ะะตัะตัะบัะฟะพััะธััะน cookies

ะะฝะพะณะดะฐ cookies ัััะฐัะตะฒะฐัั - ะฟัะพััะพ ัะบัะฟะพััะธััะน ะธั ะทะฐะฝะพะฒะพ.

---

## ๐ ะะพัะพะฒะพ!

ะขะตะฟะตัั ะฑะพั ะฑัะดะตั ัะฐะฑะพัะฐัั ั YouTube ะฑะตะท ะฟัะพะฑะปะตะผ! ๐

**ะกะปะตะดัััะธะน ัะฐะณ:** ะะตัะตะทะฐะฟัััะธ ะฑะพัะฐ ะธ ะฟะพะฟัะพะฑัะน ัะบะฐัะฐัั ัะพ ะฒะธะดะตะพ ัะฝะพะฒะฐ:
```bash
./run_with_cookies.sh
```

---

## ๐ก ะะพั ัะตะฟะตัั ะฟะพะดัะบะฐะทัะฒะฐะตั ัะฐะผ!

ะัะธ ะทะฐะฟััะบะต **ะฑะตะท cookies** ะฝะฐ macOS ะฑะพั ะฟะพะบะฐะถะตั ะฟะพะฝััะฝะพะต ะฟัะตะดัะฟัะตะถะดะตะฝะธะต:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ๏ธ  NO COOKIES CONFIGURED!
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
YouTube downloads will fail with 'bot detection' or 'only images' errors!

๐ macOS USERS:
   Browser cookie extraction requires Full Disk Access.
   It's MUCH EASIER to export cookies to a file!

   ๐ See: MACOS_COOKIES_FIX.md for step-by-step guide

   Quick fix:
   1. Install Chrome extension: Get cookies.txt LOCALLY
   2. Go to youtube.com โ login
   3. Click extension โ Export โ save as youtube_cookies.txt
   4. Run: ./run_with_cookies.sh
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

ะขะฐะบ ััะพ ัะตะฟะตัั ัั ะฒัะตะณะดะฐ ะฑัะดะตัั ะทะฝะฐัั, ััะพ ะฝัะถะฝะพ ัะดะตะปะฐัั! ๐ฏ

