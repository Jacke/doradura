â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸŒ Ğ”Ğ¾ÑÑ‚ÑƒĞ¿ Ğ¸Ğ· Docker ĞšĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ° Ğº Ğ¥Ğ¾ÑÑ‚Ñƒ - Ğ Ğ•Ğ¨Ğ•ĞĞ˜Ğ•
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ĞŸĞ ĞĞ‘Ğ›Ğ•ĞœĞ:
---------
ĞšĞ°Ğº Ğ¸Ğ· Docker ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ° (Prometheus) Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğº ÑĞµÑ€Ğ²Ğ¸ÑÑƒ 
Ğ½Ğ° Ñ…Ğ¾ÑÑ‚-Ğ¼Ğ°ÑˆĞ¸Ğ½Ğµ (Bot metrics Ğ½Ğ° Ğ¿Ğ¾Ñ€Ñ‚Ñƒ 9094)?


Ğ Ğ•Ğ¨Ğ•ĞĞ˜Ğ• (ĞŸĞ Ğ˜ĞœĞ•ĞĞ•ĞĞ):
--------------------

1. âœ… Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ host.docker.internal
   
   Ğ’ prometheus.yml:
   ```yaml
   - targets: ['host.docker.internal:9094']
   ```

2. âœ… Ğ”Ğ»Ñ Linux: Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½ extra_hosts
   
   Ğ’ docker-compose.monitoring.yml:
   ```yaml
   services:
     prometheus:
       extra_hosts:
         - "host.docker.internal:host-gateway"
   ```

3. âœ… Ğ‘Ğ¾Ñ‚ ÑĞ»ÑƒÑˆĞ°ĞµÑ‚ Ğ½Ğ° 0.0.0.0:9094
   
   Ğ’ .env:
   ```
   METRICS_PORT=9094
   ```


ĞšĞĞ Ğ¢Ğ Ğ”ĞĞ¡Ğ¢Ğ£ĞŸĞ:
--------------

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              HOST MACHINE (macOS)                   â”‚
â”‚                                                     â”‚
â”‚  Bot Metrics: 0.0.0.0:9094                         â”‚
â”‚               â†‘                                     â”‚
â”‚               â”‚                                     â”‚
â”‚               â”‚ host.docker.internal:9094          â”‚
â”‚               â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚    Docker Network: monitoring                â”‚  â”‚
â”‚  â”‚                                               â”‚  â”‚
â”‚  â”‚  Prometheus scrapes:                         â”‚  â”‚
â”‚  â”‚  http://host.docker.internal:9094/metrics    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                     â”‚
â”‚  ĞŸĞ¾Ñ€Ñ‚Ñ‹ Ğ½Ğ°Ñ€ÑƒĞ¶Ñƒ:                                      â”‚
â”‚    :9091 â†’ Prometheus                              â”‚
â”‚    :3000 â†’ Grafana                                 â”‚
â”‚    :9093 â†’ AlertManager                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ĞŸĞ ĞĞ’Ğ•Ğ ĞšĞ:
---------

1. Ğ˜Ğ· Ñ…Ğ¾ÑÑ‚Ğ°:
   ```bash
   curl http://localhost:9094/metrics
   ```

2. Ğ˜Ğ· ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ°:
   ```bash
   docker exec -it doradura-prometheus sh
   wget -O- http://host.docker.internal:9094/metrics
   ```

3. ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ targets:
   ```bash
   curl http://localhost:9091/api/v1/targets | \
     jq '.data.activeTargets[] | select(.labels.job=="doradura-bot")'
   ```
   
   Ğ”Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ±Ñ‹Ñ‚ÑŒ: "health": "up"


URL Ğ¡Ğ•Ğ Ğ’Ğ˜Ğ¡ĞĞ’:
-------------

Ğ˜Ğ· Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğ° (Ñ…Ğ¾ÑÑ‚):
  â€¢ Bot Metrics:  http://localhost:9094/metrics
  â€¢ Prometheus:   http://localhost:9091
  â€¢ Grafana:      http://localhost:3000
  â€¢ AlertManager: http://localhost:9093

Ğ˜Ğ· ĞºĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ°:
  â€¢ Bot Metrics:  http://host.docker.internal:9094/metrics
  â€¢ Prometheus:   http://prometheus:9090 (Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Docker network)
  â€¢ Grafana:      http://grafana:3000 (Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Docker network)


ĞŸĞĞ”Ğ”Ğ•Ğ Ğ–Ğ˜Ğ’ĞĞ•ĞœĞ«Ğ• ĞŸĞ›ĞĞ¢Ğ¤ĞĞ ĞœĞ«:
-------------------------

âœ… macOS      (Docker Desktop) - Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ¸Ğ· ĞºĞ¾Ñ€Ğ¾Ğ±ĞºĞ¸
âœ… Windows    (Docker Desktop) - Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ¸Ğ· ĞºĞ¾Ñ€Ğ¾Ğ±ĞºĞ¸
âœ… Linux      - Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ±Ğ»Ğ°Ğ³Ğ¾Ğ´Ğ°Ñ€Ñ extra_hosts


Ğ”ĞĞšĞ£ĞœĞ•ĞĞ¢ĞĞ¦Ğ˜Ğ¯:
-------------

ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½ĞµĞµ: DOCKER_NETWORKING.md
Ğ¨Ğ¿Ğ°Ñ€Ğ³Ğ°Ğ»ĞºĞ°: MONITORING_CHEATSHEET.md

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
