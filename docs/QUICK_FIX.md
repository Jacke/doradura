# üöÄ –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å–æ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ–º

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

```
ERROR: [youtube] Please sign in. Use --cookies-from-browser or --cookies
```

**–ü—Ä–∏—á–∏–Ω–∞:** YouTube —Ç—Ä–µ–±—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é —á–µ—Ä–µ–∑ cookies –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –≤–∏–¥–µ–æ.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ (5 –º–∏–Ω—É—Ç)

### –®–∞–≥ 1: –≠–∫—Å–ø–æ—Ä—Ç cookies –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ** "Get cookies.txt LOCALLY" –≤ Chrome/Firefox:
   - Chrome: https://chrome.google.com/webstore (–ø–æ–∏—Å–∫ "Get cookies.txt LOCALLY")
   - Firefox: https://addons.mozilla.org

2. **–ó–∞–ª–æ–≥–∏–Ω—å—Ç–µ—Å—å –Ω–∞ YouTube** –≤ –±—Ä–∞—É–∑–µ—Ä–µ

3. **–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ cookies:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ youtube.com
   - –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∏–∫–æ–Ω–∫—É —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
   - –ù–∞–∂–º–∏—Ç–µ "Export" ‚Üí "Current domain (youtube.com)"
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–∞–∫ `youtube_cookies.txt` –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
export YTDL_COOKIES_FILE=./youtube_cookies.txt

# –ò–ª–∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ ~/.zshrc –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
echo 'export YTDL_COOKIES_FILE=/Users/stan/Dev/_PROJ/doradura/youtube_cookies.txt' >> ~/.zshrc
source ~/.zshrc
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
./test_ytdlp.sh diagnostics

# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
# ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–∞–π–ª cookies: ./youtube_cookies.txt
# ‚úÖ –§–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
```

### –®–∞–≥ 4: –¢–µ—Å—Ç —Å–∫–∞—á–∏–≤–∞–Ω–∏—è

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç —Å–∫–∞—á–∏–≤–∞–Ω–∏—è (—Ç—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç)
./test_ytdlp.sh download

# –ï—Å–ª–∏ —É—Å–ø–µ—à–Ω–æ - –≤–∏–¥–∏—Ç–µ:
# ‚úÖ –§–∞–π–ª —Å–æ–∑–¥–∞–Ω: "/tmp/doradura_ytdlp_tests/test_audio.mp3"
# ‚úÖ –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: 245632 –±–∞–π—Ç
```

### –®–∞–≥ 5: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ —Å –Ω–æ–≤—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
cargo run --release
```

## üìù –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± (Linux)

–ï—Å–ª–∏ –Ω–∞ Linux, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä—è–º–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip3 install keyring pycryptodomex

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
export YTDL_COOKIES_BROWSER=chrome

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ
./test_ytdlp.sh diagnostics
```

‚ö†Ô∏è **–ù–∞ macOS —ç—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç** –∏–∑-–∑–∞ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è Full Disk Access!

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç–∞—Ç—É—Å–∞

–í –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã:

```bash
./test_ytdlp.sh diagnostics
```

–í—ã–≤–æ–¥ –ø–æ–∫–∞–∂–µ—Ç:
- ‚úÖ –ß—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
- ‚úÖ –ö–∞–∫–∏–µ –≤–µ—Ä—Å–∏–∏
- ‚úÖ/‚ùå –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ª–∏ cookies
- ‚úÖ/‚ùå –ì–æ—Ç–æ–≤–∞ –ª–∏ —Å–∏—Å—Ç–µ–º–∞ –∫ —Ä–∞–±–æ—Ç–µ

## üìö –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `TESTING.md` - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- `MACOS_COOKIES_FIX.md` - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è macOS
- `YOUTUBE_COOKIES.md` - –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ cookies

## ‚ö° –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### "–§–∞–π–ª cookies –Ω–µ –Ω–∞–π–¥–µ–Ω"

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
ls -lh youtube_cookies.txt

# –ï—Å–ª–∏ –Ω–µ—Ç - —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∑–∞–Ω–æ–≤–æ (–®–∞–≥ 1)
```

### "Cookies —É—Å—Ç–∞—Ä–µ–ª–∏"

Cookies –∂–∏–≤—É—Ç ~1 –≥–æ–¥. –ï—Å–ª–∏ –Ω–∞—á–Ω—É—Ç—Å—è –æ—à–∏–±–∫–∏ - —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∑–∞–Ω–æ–≤–æ.

### "–¢–µ—Å—Ç —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ:
1. export YTDL_COOKIES_FILE=./youtube_cookies.txt  # –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
2. ls -lh youtube_cookies.txt                      # –§–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –Ω–µ –ø—É—Å—Ç–æ–π
3. ./test_ytdlp.sh diagnostics                     # –í—Å–µ ‚úÖ

# –ï—Å–ª–∏ –≤—Å–µ –æ–∫, –Ω–æ —Ç–µ—Å—Ç –ø–∞–¥–∞–µ—Ç - –æ–±–Ω–æ–≤–∏—Ç–µ yt-dlp:
pip3 install -U yt-dlp
```

## üéØ –ë—ã—Å—Ç—Ä—ã–π —á–µ–∫–ª–∏—Å—Ç

- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ "Get cookies.txt LOCALLY"
- [ ] –ó–∞–ª–æ–≥–∏–Ω–∏–ª–∏—Å—å –Ω–∞ YouTube
- [ ] –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∏ cookies ‚Üí `youtube_cookies.txt`
- [ ] –§–∞–π–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞: `ls youtube_cookies.txt` ‚úÖ
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é: `export YTDL_COOKIES_FILE=./youtube_cookies.txt`
- [ ] –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —É—Å–ø–µ—à–Ω–∞: `./test_ytdlp.sh diagnostics` ‚úÖ
- [ ] –¢–µ—Å—Ç —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —É—Å–ø–µ—à–µ–Ω: `./test_ytdlp.sh download` ‚úÖ
- [ ] –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª–∏ –±–æ—Ç–∞: `cargo run --release`

## üí° –°–æ–≤–µ—Ç

–î–æ–±–∞–≤—å—Ç–µ `youtube_cookies.txt` –≤ `.gitignore` —á—Ç–æ–±—ã –Ω–µ –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ!

```bash
echo "youtube_cookies.txt" >> .gitignore
```

---

**–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ –±–æ—Ç –¥–æ–ª–∂–µ–Ω —É—Å–ø–µ—à–Ω–æ —Å–∫–∞—á–∏–≤–∞—Ç—å –≤–∏–¥–µ–æ!** üéâ

