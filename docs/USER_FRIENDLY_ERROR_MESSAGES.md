# User-Friendly Error Messages - –£–¥–æ–±–Ω—ã–µ –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –û—à–∏–±–∫–∞—Ö

## –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞–ª–∏ —Å–ª–∏—à–∫–æ–º —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏ —Ä–∞–∑–¥—Ä–∞–∂–∞—é—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö:

**–ë—ã–ª–æ:**
```
‚ùå Cookies –¥–ª—è YouTube —É—Å—Ç–∞—Ä–µ–ª–∏ –∏–ª–∏ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã.

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±–Ω–æ–≤–∏ cookies.
–û–±—Ä–∞—Ç–∏—Å—å –∫ @stansob.
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
1. ‚ùå –£–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∞ –≤ –∫–∞–∂–¥–æ–π –æ—à–∏–±–∫–µ —Ä–∞–∑–¥—Ä–∞–∂–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. ‚ùå –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –ø—Ä–æ "cookies" –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã –æ–±—ã—á–Ω–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
3. ‚ùå –°–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
4. ‚ùå –ù–µ –¥–∞–µ—Ç actionable —Å–æ–≤–µ—Ç ("–æ–±–Ω–æ–≤–∏ cookies" - –∫–∞–∫?)

## –†–µ—à–µ–Ω–∏–µ

–ü–µ—Ä–µ–ø–∏—Å–∞–Ω—ã –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö –Ω–∞ user-friendly –≤–µ—Ä—Å–∏–∏:

### 1. Invalid Cookies

**–ë—ã–ª–æ:**
```
‚ùå Cookies –¥–ª—è YouTube —É—Å—Ç–∞—Ä–µ–ª–∏ –∏–ª–∏ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã.

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–±–Ω–æ–≤–∏ cookies.
–û–±—Ä–∞—Ç–∏—Å—å –∫ @stansob.
```

**–°—Ç–∞–ª–æ:**
```
‚ùå –í—Ä–µ–º–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Å YouTube.

–ü–æ–ø—Ä–æ–±—É–π –¥—Ä—É–≥–æ–µ –≤–∏–¥–µ–æ –∏–ª–∏ –ø–æ–≤—Ç–æ—Ä–∏ –ø–æ–ø—ã—Ç–∫—É –ø–æ–∑–∂–µ.
```

**–ü–æ—á–µ–º—É –ª—É—á—à–µ:**
- ‚úÖ –ù–µ —É–ø–æ–º–∏–Ω–∞–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏
- ‚úÖ –ù–µ –ø—É–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –î–∞–µ—Ç –ø—Ä–æ—Å—Ç–æ–π —Å–æ–≤–µ—Ç: –ø–æ–ø—Ä–æ–±—É–π –¥—Ä—É–≥–æ–µ –≤–∏–¥–µ–æ
- ‚úÖ –ù–µ—Ç —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –∞–¥–º–∏–Ω–∞

### 2. Bot Detection

**–ë—ã–ª–æ:**
```
‚ùå YouTube –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –∑–∞–ø—Ä–æ—Å (–æ–±–Ω–∞—Ä—É–∂–µ–Ω –±–æ—Ç).

–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–∞–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º cookies.
–û–±—Ä–∞—Ç–∏—Å—å –∫ @stansob.
```

**–°—Ç–∞–ª–æ:**
```
‚ùå YouTube –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –∑–∞–ø—Ä–æ—Å.

–ü–æ–ø—Ä–æ–±—É–π –¥—Ä—É–≥–æ–µ –≤–∏–¥–µ–æ –∏–ª–∏ –ø–æ–≤—Ç–æ—Ä–∏ –ø–æ–ø—ã—Ç–∫—É –ø–æ–∑–∂–µ.
```

**–ü–æ—á–µ–º—É –ª—É—á—à–µ:**
- ‚úÖ –£–±—Ä–∞–ª–∏ "(–æ–±–Ω–∞—Ä—É–∂–µ–Ω –±–æ—Ç)" - –Ω–µ –ø—É–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ù–µ —É–ø–æ–º–∏–Ω–∞–µ—Ç cookies
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–π —Å–æ–≤–µ—Ç

### 3. Video Unavailable

**–ë—ã–ª–æ:**
```
‚ùå –í–∏–¥–µ–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ.

–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
‚Ä¢ –í–∏–¥–µ–æ –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ –∏–ª–∏ —É–¥–∞–ª–µ–Ω–æ
‚Ä¢ –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
‚Ä¢ –í–∏–¥–µ–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ –∞–≤—Ç–æ—Ä–æ–º
```

**–°—Ç–∞–ª–æ:**
```
‚ùå –í–∏–¥–µ–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ.

–í–æ–∑–º–æ–∂–Ω–æ –æ–Ω–æ –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ, —É–¥–∞–ª–µ–Ω–æ –∏–ª–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ –≤ —Ç–≤–æ—ë–º —Ä–µ–≥–∏–æ–Ω–µ.
```

**–ü–æ—á–µ–º—É –ª—É—á—à–µ:**
- ‚úÖ –ö–æ—Ä–æ—á–µ
- ‚úÖ –¢–µ –∂–µ –ø—Ä–∏—á–∏–Ω—ã, –Ω–æ –≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ
- ‚úÖ –î—Ä—É–∂–µ–ª—é–±–Ω—ã–π —Ç–æ–Ω ("—Ç–≤–æ—ë–º")

### 4. Network Error

**–ë—ã–ª–æ:**
```
‚ùå –ü—Ä–æ–±–ª–µ–º–∞ —Å —Å–µ—Ç—å—é –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö.
```

**–°—Ç–∞–ª–æ:**
```
‚ùå –ü—Ä–æ–±–ª–µ–º–∞ —Å —Å–µ—Ç—å—é.

–ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑ —á–µ—Ä–µ–∑ –º–∏–Ω—É—Ç—É.
```

**–ü–æ—á–µ–º—É –ª—É—á—à–µ:**
- ‚úÖ –ö–æ—Ä–æ—á–µ
- ‚úÖ –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–æ–≤–µ—Ç: –ø–æ–¥–æ–∂–¥–∏ –º–∏–Ω—É—Ç—É

### 5. Unknown Error

**–ë—ã–ª–æ:**
```
‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –≤–∏–¥–µ–æ.

–ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Å—Å—ã–ª–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞ –∏ –≤–∏–¥–µ–æ –¥–æ—Å—Ç—É–ø–Ω–æ.
–û–±—Ä–∞—Ç–∏—Å—å –∫ @stansob.
```

**–°—Ç–∞–ª–æ:**
```
‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–∞—á–∞—Ç—å –≤–∏–¥–µ–æ.

–ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Å—Å—ã–ª–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞.
```

**–ü–æ—á–µ–º—É –ª—É—á—à–µ:**
- ‚úÖ –ö–æ—Ä–æ—á–µ
- ‚úÖ –ù–µ—Ç —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –∞–¥–º–∏–Ω–∞
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–π —Å–æ–≤–µ—Ç

## –ö–æ–¥ –ò–∑–º–µ–Ω–µ–Ω–∏–π

[src/download/ytdlp_errors.rs:94-112](src/download/ytdlp_errors.rs#L94-L112)

```rust
pub fn get_error_message(error_type: &YtDlpErrorType) -> String {
    match error_type {
        YtDlpErrorType::InvalidCookies => {
            "‚ùå –í—Ä–µ–º–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Å YouTube.\n\n–ü–æ–ø—Ä–æ–±—É–π –¥—Ä—É–≥–æ–µ –≤–∏–¥–µ–æ –∏–ª–∏ –ø–æ–≤—Ç–æ—Ä–∏ –ø–æ–ø—ã—Ç–∫—É –ø–æ–∑–∂–µ.".to_string()
        }
        YtDlpErrorType::BotDetection => {
            "‚ùå YouTube –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –∑–∞–ø—Ä–æ—Å.\n\n–ü–æ–ø—Ä–æ–±—É–π –¥—Ä—É–≥–æ–µ –≤–∏–¥–µ–æ –∏–ª–∏ –ø–æ–≤—Ç–æ—Ä–∏ –ø–æ–ø—ã—Ç–∫—É –ø–æ–∑–∂–µ.".to_string()
        }
        YtDlpErrorType::VideoUnavailable => {
            "‚ùå –í–∏–¥–µ–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ.\n\n–í–æ–∑–º–æ–∂–Ω–æ –æ–Ω–æ –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ, —É–¥–∞–ª–µ–Ω–æ –∏–ª–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ –≤ —Ç–≤–æ—ë–º —Ä–µ–≥–∏–æ–Ω–µ.".to_string()
        }
        YtDlpErrorType::NetworkError => {
            "‚ùå –ü—Ä–æ–±–ª–µ–º–∞ —Å —Å–µ—Ç—å—é.\n\n–ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑ —á–µ—Ä–µ–∑ –º–∏–Ω—É—Ç—É.".to_string()
        }
        YtDlpErrorType::Unknown => {
            "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–∞—á–∞—Ç—å –≤–∏–¥–µ–æ.\n\n–ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Å—Å—ã–ª–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞.".to_string()
        }
    }
}
```

### –£–¥–∞–ª–µ–Ω–∞ –§—É–Ω–∫—Ü–∏—è admin_contact_line()

–§—É–Ω–∫—Ü–∏—è –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–∞, —Ç–∞–∫ –∫–∞–∫ –Ω–µ —É–ø–æ–º–∏–Ω–∞–µ–º –∞–¥–º–∏–Ω–∞ –≤ user-facing —Å–æ–æ–±—â–µ–Ω–∏—è—Ö.

**–£–¥–∞–ª–µ–Ω–æ:**
```rust
fn admin_contact_line() -> Option<String> {
    let admin_username = crate::core::config::admin::ADMIN_USERNAME.as_str();
    if admin_username.is_empty() {
        None
    } else {
        Some(format!("\n–û–±—Ä–∞—Ç–∏—Å—å –∫ @{}.", admin_username))
    }
}
```

## –ì–¥–µ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –í—Å—ë –ï—â—ë –ü–æ–ª—É—á–∞–µ—Ç –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–í–∞–∂–Ω–æ: **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –≤—Å—ë –µ—â—ë –ø–æ–ª—É—á–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –æ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö!

[src/download/ytdlp_errors.rs:141-149](src/download/ytdlp_errors.rs#L141-L149)

```rust
pub fn should_notify_admin(error_type: &YtDlpErrorType) -> bool {
    match error_type {
        YtDlpErrorType::InvalidCookies => true,   // ‚Üê –ê–¥–º–∏–Ω –ø–æ–ª—É—á–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        YtDlpErrorType::BotDetection => true,     // ‚Üê –ê–¥–º–∏–Ω –ø–æ–ª—É—á–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        YtDlpErrorType::VideoUnavailable => false,
        YtDlpErrorType::NetworkError => false,
        YtDlpErrorType::Unknown => true,          // ‚Üê –ê–¥–º–∏–Ω –ø–æ–ª—É—á–∏—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
    }
}
```

**–ß—Ç–æ –ø–æ–ª—É—á–∏—Ç –∞–¥–º–∏–Ω:**
```
YTDLP ERROR (video download)
user_chat_id: 53170594
url: https://www.youtube.com/watch?v=...
error_type: InvalidCookies

command:
/opt/homebrew/bin/yt-dlp -o /Users/stan/downloads/...

stdout (tail):
[youtube] Extracting URL: https://www.youtube.com/...

stderr (tail):
WARNING: [youtube] Cookies are no longer valid. Re-extracting...
ERROR: [youtube] Sign in to confirm you're not a bot.

recommendations:
üîß –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –ò–°–ü–†–ê–í–õ–ï–ù–ò–Æ:
‚Ä¢ Cookies —É—Å—Ç–∞—Ä–µ–ª–∏ –∏–ª–∏ –±—ã–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã –≤ –±—Ä–∞—É–∑–µ—Ä–µ
...
```

## –ü—Ä–∏–Ω—Ü–∏–ø—ã User-Friendly –°–æ–æ–±—â–µ–Ω–∏–π

### 1. –ù–µ –ü—É–≥–∞—Ç—å –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

‚ùå **–ü–ª–æ—Ö–æ:**
- "Cookies –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã"
- "–û–±–Ω–∞—Ä—É–∂–µ–Ω –±–æ—Ç"
- "–°–∏–≥–Ω–∞—Ç—É—Ä–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ø—Ä–æ–≤–∞–ª–∏–ª–∞—Å—å"

‚úÖ **–•–æ—Ä–æ—à–æ:**
- "–í—Ä–µ–º–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞"
- "–ü–æ–ø—Ä–æ–±—É–π –ø–æ–∑–∂–µ"
- "–í–∏–¥–µ–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ"

### 2. –î–∞–≤–∞—Ç—å Actionable –°–æ–≤–µ—Ç—ã

‚ùå **–ü–ª–æ—Ö–æ:**
- "–û–±–Ω–æ–≤–∏ cookies" (–∫–∞–∫?)
- "–ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é" (–∫–∞–∫—É—é?)

‚úÖ **–•–æ—Ä–æ—à–æ:**
- "–ü–æ–ø—Ä–æ–±—É–π –¥—Ä—É–≥–æ–µ –≤–∏–¥–µ–æ"
- "–ü–æ–≤—Ç–æ—Ä–∏ –ø–æ–ø—ã—Ç–∫—É –ø–æ–∑–∂–µ"
- "–ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Å—Å—ã–ª–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞"

### 3. –ë—ã—Ç—å –ö—Ä–∞—Ç–∫–∏–º

‚ùå **–ü–ª–æ—Ö–æ:**
```
‚ùå –í–∏–¥–µ–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ.

–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
‚Ä¢ –í–∏–¥–µ–æ –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ –∏–ª–∏ —É–¥–∞–ª–µ–Ω–æ
‚Ä¢ –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
‚Ä¢ –í–∏–¥–µ–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ –∞–≤—Ç–æ—Ä–æ–º
‚Ä¢ –ü—Ä–æ–±–ª–µ–º—ã —Å –∞–≤—Ç–æ—Ä—Å–∫–∏–º–∏ –ø—Ä–∞–≤–∞–º–∏
‚Ä¢ –í—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞
```

‚úÖ **–•–æ—Ä–æ—à–æ:**
```
‚ùå –í–∏–¥–µ–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ.

–í–æ–∑–º–æ–∂–Ω–æ –æ–Ω–æ –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ, —É–¥–∞–ª–µ–Ω–æ –∏–ª–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ –≤ —Ç–≤–æ—ë–º —Ä–µ–≥–∏–æ–Ω–µ.
```

### 4. –ù–µ –£–ø–æ–º–∏–Ω–∞—Ç—å –¢–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é

‚ùå **–ü–ª–æ—Ö–æ:**
- "HTTP Error 403"
- "Signature extraction failed"
- "Cookie rotation detected"

‚úÖ **–•–æ—Ä–æ—à–æ:**
- "–ü—Ä–æ–±–ª–µ–º–∞ —Å –¥–æ—Å—Ç—É–ø–æ–º"
- "–í—Ä–µ–º–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞"
- "–ü–æ–ø—Ä–æ–±—É–π –ø–æ–∑–∂–µ"

### 5. –ù–µ –£–ø–æ–º–∏–Ω–∞—Ç—å –ê–¥–º–∏–Ω–∞ –ë–µ–∑ –ù—É–∂–¥—ã

‚ùå **–ü–ª–æ—Ö–æ:**
```
‚ùå –û—à–∏–±–∫–∞.

–û–±—Ä–∞—Ç–∏—Å—å –∫ @admin.
```

‚úÖ **–•–æ—Ä–æ—à–æ:**
```
‚ùå –û—à–∏–±–∫–∞.

–ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑.
```

**–ö–æ–≥–¥–∞ —É–ø–æ–º–∏–Ω–∞—Ç—å –∞–¥–º–∏–Ω–∞:**
- –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–≥–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞
- –ï—Å–ª–∏ —ç—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω—ã–π –±–∞–≥
- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –ø—Ä–æ–±–æ–≤–∞–ª –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –î–æ/–ü–æ—Å–ª–µ

| –°–∏—Ç—É–∞—Ü–∏—è | –î–æ | –ü–æ—Å–ª–µ |
|----------|----|----|
| **Invalid Cookies** | "Cookies –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã. –û–±–Ω–æ–≤–∏ cookies. –û–±—Ä–∞—Ç–∏—Å—å –∫ @admin" (3 —Å—Ç—Ä–æ–∫–∏, —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∞) | "–í—Ä–µ–º–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Å YouTube. –ü–æ–ø—Ä–æ–±—É–π –¥—Ä—É–≥–æ–µ –≤–∏–¥–µ–æ" (2 —Å—Ç—Ä–æ–∫–∏, –ø—Ä–æ—Å—Ç–æ–π —Å–æ–≤–µ—Ç) |
| **Bot Detection** | "YouTube –æ–±–Ω–∞—Ä—É–∂–∏–ª –±–æ—Ç–∞. –û–±–Ω–æ–≤–∏ cookies. –û–±—Ä–∞—Ç–∏—Å—å –∫ @admin" (3 —Å—Ç—Ä–æ–∫–∏, —Å—Ç—Ä–∞—à–Ω–æ) | "YouTube –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –∑–∞–ø—Ä–æ—Å. –ü–æ–ø—Ä–æ–±—É–π –ø–æ–∑–∂–µ" (2 —Å—Ç—Ä–æ–∫–∏, —Å–ø–æ–∫–æ–π–Ω–æ) |
| **Video Unavailable** | –°–ø–∏—Å–æ–∫ –∏–∑ 3 –ø—É–Ω–∫—Ç–æ–≤ (–º–Ω–æ–≥–æ—Å–ª–æ–≤–Ω–æ) | –û–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ —Å –≤–æ–∑–º–æ–∂–Ω—ã–º–∏ –ø—Ä–∏—á–∏–Ω–∞–º–∏ (–∫—Ä–∞—Ç–∫–æ) |
| **Network Error** | "–ü—Ä–æ–±–ª–µ–º–∞ —Å —Å–µ—Ç—å—é –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö" (–Ω–µ–ø–æ–Ω—è—Ç–Ω–æ —á—Ç–æ –¥–µ–ª–∞—Ç—å) | "–ü—Ä–æ–±–ª–µ–º–∞ —Å —Å–µ—Ç—å—é. –ü–æ–ø—Ä–æ–±—É–π —á–µ—Ä–µ–∑ –º–∏–Ω—É—Ç—É" (–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–æ–≤–µ—Ç) |
| **Unknown** | "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ. –û–±—Ä–∞—Ç–∏—Å—å –∫ @admin" (—É–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∞) | "–ù–µ —É–¥–∞–ª–æ—Å—å —Å–∫–∞—á–∞—Ç—å –≤–∏–¥–µ–æ. –ü—Ä–æ–≤–µ—Ä—å —Å—Å—ã–ª–∫—É" (–ø—Ä–æ—Å—Ç–æ–π —Å–æ–≤–µ—Ç) |

## –ü—Ä–∏–º–µ—Ä—ã –†–µ–∞–ª—å–Ω—ã—Ö –°—Ü–µ–Ω–∞—Ä–∏–µ–≤

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ Cookies

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç:**
```
https://www.youtube.com/watch?v=dQw4w9WgXcQ
```

**–ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç:**
```
‚ùå –í—Ä–µ–º–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Å YouTube.

–ü–æ–ø—Ä–æ–±—É–π –¥—Ä—É–≥–æ–µ –≤–∏–¥–µ–æ –∏–ª–∏ –ø–æ–≤—Ç–æ—Ä–∏ –ø–æ–ø—ã—Ç–∫—É –ø–æ–∑–∂–µ.
```

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥—É–º–∞–µ—Ç:**
- "–û–∫, –≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞, –ø–æ–ø—Ä–æ–±—É—é –¥—Ä—É–≥–æ–µ –≤–∏–¥–µ–æ"
- –ù–µ –ø–∞–Ω–∏–∫—É–µ—Ç, –Ω–µ –ø–∏—à–µ—Ç –∞–¥–º–∏–Ω—É

**–ê–¥–º–∏–Ω –ø–æ–ª—É—á–∞–µ—Ç:**
```
YTDLP ERROR (video download)
user_chat_id: 12345
error_type: InvalidCookies
...
üîß –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò: –û–±–Ω–æ–≤–∏ cookies
```

**–ê–¥–º–∏–Ω:**
- –í–∏–¥–∏—Ç –ø—Ä–æ–±–ª–µ–º—É
- –û–±–Ω–æ–≤–ª—è–µ—Ç cookies
- –ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞ –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –í–∏–¥–µ–æ –ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç:**
```
https://www.youtube.com/watch?v=private_video
```

**–ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç:**
```
‚ùå –í–∏–¥–µ–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ.

–í–æ–∑–º–æ–∂–Ω–æ –æ–Ω–æ –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ, —É–¥–∞–ª–µ–Ω–æ –∏–ª–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ –≤ —Ç–≤–æ—ë–º —Ä–µ–≥–∏–æ–Ω–µ.
```

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥—É–º–∞–µ—Ç:**
- "–ü–æ–Ω—è—Ç–Ω–æ, –≤–∏–¥–µ–æ –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ"
- –ü–æ–ø—Ä–æ–±—É–µ—Ç –¥—Ä—É–≥–æ–µ –≤–∏–¥–µ–æ
- –ù–µ –ø–∏—à–µ—Ç –∞–¥–º–∏–Ω—É (–ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –µ–≥–æ –ø—Ä–æ–±–ª–µ–º–∞, –∞ –Ω–µ –±–æ—Ç–∞)

**–ê–¥–º–∏–Ω:**
- –ù–ï –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (—ç—Ç–æ –Ω–µ –±–∞–≥ –±–æ—Ç–∞)

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü—Ä–æ–±–ª–µ–º–∞ —Å –°–µ—Ç—å—é

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç:**
```
https://www.youtube.com/watch?v=some_video
```

**–ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç:**
```
‚ùå –ü—Ä–æ–±–ª–µ–º–∞ —Å —Å–µ—Ç—å—é.

–ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑ —á–µ—Ä–µ–∑ –º–∏–Ω—É—Ç—É.
```

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
- –ñ–¥–µ—Ç –º–∏–Ω—É—Ç—É
- –ü—Ä–æ–±—É–µ—Ç —Å–Ω–æ–≤–∞
- –†–∞–±–æ—Ç–∞–µ—Ç!

**–ê–¥–º–∏–Ω:**
- –ù–ï –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∞–º –æ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–µ—Ç–µ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º

## –ú–µ—Ç—Ä–∏–∫–∏ –û—Å—Ç–∞—é—Ç—Å—è –î–µ—Ç–∞–ª—å–Ω—ã–º–∏

–í–∞–∂–Ω–æ: **–ú–µ—Ç—Ä–∏–∫–∏ –≤—Å—ë –µ—â—ë –¥–µ—Ç–∞–ª—å–Ω—ã–µ –∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫!**

```bash
curl http://localhost:9094/metrics | grep errors_total
```

```
doradura_errors_total{error_type="invalid_cookies",operation="metadata"} 5
doradura_errors_total{error_type="bot_detection",operation="video_download"} 2
doradura_errors_total{error_type="video_unavailable",operation="audio_download"} 12
...
```

**–í Grafana:**
- –ê–¥–º–∏–Ω –≤–∏–¥–∏—Ç —Ç–æ—á–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ—à–∏–±–æ–∫
- –ú–æ–∂–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ç—Ä–µ–Ω–¥—ã
- –ú–æ–∂–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å alerts

## Best Practices

### –î–ª—è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –°–æ–æ–±—â–µ–Ω–∏–π

1. **–ë—É–¥—å –∫—Ä–∞—Ç–∫–∏–º** - –º–∞–∫—Å–∏–º—É–º 2 —Å—Ç—Ä–æ–∫–∏
2. **–ì–æ–≤–æ—Ä–∏ –ø—Ä–æ—Å—Ç—ã–º —è–∑—ã–∫–æ–º** - –±–µ–∑ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤
3. **–î–∞–≤–∞–π actionable —Å–æ–≤–µ—Ç** - —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å?
4. **–ù–µ –ø—É–≥–∞–π** - –∏–∑–±–µ–≥–∞–π —Å–ª–æ–≤ —Ç–∏–ø–∞ "–æ—à–∏–±–∫–∞", "–ø—Ä–æ–≤–∞–ª", "–∫—Ä–∏—Ç–∏—á–Ω–æ"
5. **–ù–µ —É–ø–æ–º–∏–Ω–∞–π –∞–¥–º–∏–Ω–∞** - —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∫—Ä–∏—Ç–∏—á–Ω–æ

### –î–ª—è –õ–æ–≥–æ–≤ –∏ –ê–¥–º–∏–Ω-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

1. **–ë—É–¥—å –¥–µ—Ç–∞–ª—å–Ω—ã–º** - –≤—Å—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
2. **–í–∫–ª—é—á–∞–π –∫–æ–Ω—Ç–µ–∫—Å—Ç** - URL, user_id, –∫–æ–º–∞–Ω–¥–∞, stderr
3. **–î–∞–≤–∞–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** - –∫–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å
4. **–ò—Å–ø–æ–ª—å–∑—É–π —Å—Ç—Ä—É–∫—Ç—É—Ä—É** - –ª–µ–≥–∫–æ —á–∏—Ç–∞—Ç—å –∏ –ø–∞—Ä—Å–∏—Ç—å

### –î–ª—è –ú–µ—Ç—Ä–∏–∫

1. **–ò—Å–ø–æ–ª—å–∑—É–π –¥–µ—Ç–∞–ª—å–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏** - invalid_cookies, bot_detection, etc.
2. **–î–æ–±–∞–≤–ª—è–π labels** - operation (metadata, audio_download, video_download)
3. **–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∏—Ä—É–π –≤—Å–µ–≥–¥–∞** - –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

## –ò—Ç–æ–≥–æ

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:**
- ‚úÖ –í–∏–¥—è—Ç –∫–æ—Ä–æ—Ç–∫–∏–µ, –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ –ù–µ –ø–∞–Ω–∏–∫—É—é—Ç –æ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤
- ‚úÖ –ù–µ —Å–ø–∞–º—è—Ç –∞–¥–º–∏–Ω–∞ –ø–æ –ø—É—Å—Ç—è–∫–∞–º
- ‚úÖ –ü–æ–ª—É—á–∞—é—Ç actionable —Å–æ–≤–µ—Ç—ã

**–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:**
- ‚úÖ –ü–æ–ª—É—á–∞–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –í–∏–¥–∏—Ç –ø–æ–ª–Ω—ã–µ –ª–æ–≥–∏ –∏ stderr
- ‚úÖ –ò–º–µ–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é
- ‚úÖ –ú–æ–∂–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –≤ Grafana

**–ú–µ—Ç—Ä–∏–∫–∏ –∏ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
- ‚úÖ –û—Å—Ç–∞—é—Ç—Å—è –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ä–µ–∞–ª—å–Ω—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫
- ‚úÖ –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å alerts
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –§–∞–π–ª—ã

- [src/download/ytdlp_errors.rs](src/download/ytdlp_errors.rs) - –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- [ERROR_METRICS_COMPREHENSIVE.md](ERROR_METRICS_COMPREHENSIVE.md) - –ú–µ—Ç—Ä–∏–∫–∏ –æ—à–∏–±–æ–∫
- [HOW_TO_VIEW_METRICS.md](HOW_TO_VIEW_METRICS.md) - –ö–∞–∫ —Å–º–æ—Ç—Ä–µ—Ç—å –º–µ—Ç—Ä–∏–∫–∏
