# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å YouTube cookies

## ‚úÖ Cookies —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã!

–§–∞–π–ª `youtube_cookies.txt` —É–∂–µ —Å–æ–∑–¥–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

## –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
export YTDL_COOKIES_FILE=youtube_cookies.txt

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
cargo run --release
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å .env —Ñ–∞–π–ª (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# 1. –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª –∏–∑ –ø—Ä–∏–º–µ—Ä–∞
cp .env.example .env

# 2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env –∏ –¥–æ–±–∞–≤–∏—Ç—å TELOXIDE_TOKEN
nano .env

# 3. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ YTDL_COOKIES_FILE=youtube_cookies.txt –µ—Å—Ç—å –≤ .env

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
cargo run --release
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: Inline –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

```bash
YTDL_COOKIES_FILE=youtube_cookies.txt cargo run --release
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ cookies —Ä–∞–±–æ—Ç–∞—é—Ç:

```bash
# –¢–µ—Å—Ç —Å yt-dlp
yt-dlp --cookies youtube_cookies.txt --print "%(title)s" "https://www.youtube.com/watch?v=dQw4w9WgXcQ"
```

–ï—Å–ª–∏ –≤—ã–≤–æ–¥–∏—Ç—Å—è –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ - –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç! ‚úÖ

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å cookies

- ‚úÖ –§–∞–π–ª `youtube_cookies.txt` —É–∂–µ –≤ `.gitignore`
- ‚úÖ –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã: `600` (—Ç–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å)
- ‚ùå **–ù–ò–ö–û–ì–î–ê** –Ω–µ –ø—É–±–ª–∏–∫—É–π cookies –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –¥–æ—Å—Ç—É–ø–µ!
- üîÑ –û–±–Ω–æ–≤–ª—è–π cookies –∫–∞–∂–¥—ã–µ 2-4 –Ω–µ–¥–µ–ª–∏

### –ö–æ–≥–¥–∞ cookies —É—Å—Ç–∞—Ä–µ—é—Ç

–°–∏–º–ø—Ç–æ–º—ã:
- –û—à–∏–±–∫–∞ "Sign in to confirm you're not a bot"
- –û—à–∏–±–∫–∞ "This video is unavailable"

–†–µ—à–µ–Ω–∏–µ:

#### –°–ø–æ—Å–æ–± 1: –û–±–Ω–æ–≤–∏—Ç—å —á–µ—Ä–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞

1. –£—Å—Ç–∞–Ω–æ–≤–∏ [Get cookies.txt LOCALLY](https://chrome.google.com/webstore/detail/get-cookiestxt-locally/cclelndahbckbenkjhflpdbgdldlbecc)
2. –ó–∞–π–¥–∏ –Ω–∞ YouTube.com
3. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π cookies ‚Üí —Å–æ—Ö—Ä–∞–Ω–∏ –∫–∞–∫ `youtube_cookies.txt`
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –±–æ—Ç–∞

#### –°–ø–æ—Å–æ–± 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±—Ä–∞—É–∑–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip3 install keyring pycryptodomex

# 2. –£–¥–∞–ª–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è —Ñ–∞–π–ª–∞
unset YTDL_COOKIES_FILE

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±—Ä–∞—É–∑–µ—Ä
export YTDL_COOKIES_BROWSER=firefox  # –∏–ª–∏ chrome

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
cargo run --release
```

## üìù –õ–æ–≥–∏

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ª–∏ cookies:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –∏ —Å–ª–µ–¥–∏—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏
cargo run --release 2>&1 | grep -i cookie
```

–î–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å:
```
Using cookies from file: youtube_cookies.txt
```

## üÜò –ü—Ä–æ–±–ª–µ–º—ã?

### –û—à–∏–±–∫–∞ "Sign in to confirm you're not a bot"

**–†–µ—à–µ–Ω–∏–µ:**
1. –û–±–Ω–æ–≤–∏ cookies (—Å–º. –≤—ã—à–µ)
2. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: `ls -la youtube_cookies.txt`
3. –ü—Ä–æ–≤–µ—Ä—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è: `echo $YTDL_COOKIES_FILE`

### –û—à–∏–±–∫–∞ "No such file or directory: youtube_cookies.txt"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å
export YTDL_COOKIES_FILE=/Users/stan/Dev/_PROJ/doradura/youtube_cookies.txt
```

–ò–ª–∏ –¥–æ–±–∞–≤—å –≤ `.env`:
```bash
YTDL_COOKIES_FILE=/Users/stan/Dev/_PROJ/doradura/youtube_cookies.txt
```

### Cookies —Ä–∞–±–æ—Ç–∞—é—Ç, –Ω–æ –≤–∏–¥–µ–æ –Ω–µ —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –í–∏–¥–µ–æ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ (–≤–æ–∑—Ä–∞—Å—Ç–Ω—ã–µ, —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã–µ)
- –í–∏–¥–µ–æ —É–¥–∞–ª–µ–Ω–æ/–ø—Ä–∏–≤–∞—Ç–Ω–æ–µ
- –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –¢–µ—Å—Ç–∏—Ä—É–π –Ω–∞–ø—Ä—è–º—É—é
yt-dlp --cookies youtube_cookies.txt URL_VIDEO
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –°–ª–µ–¥–∏—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
tail -f logs/bot.log | grep -E "(cookie|youtube|download)"
```

## üîÑ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ cookies (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–°–æ–∑–¥–∞–π cron job –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

```bash
# –û—Ç–∫—Ä—ã—Ç—å crontab
crontab -e

# –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É (–æ–±–Ω–æ–≤–ª—è—Ç—å –∫–∞–∂–¥—ã–µ 2 –Ω–µ–¥–µ–ª–∏)
0 0 */14 * * /path/to/update_cookies.sh
```

–ì–¥–µ `update_cookies.sh`:
```bash
#!/bin/bash
# –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å cookies –∏–∑ Firefox
yt-dlp --cookies-from-browser firefox --skip-download --write-cookies youtube_cookies.txt "https://youtube.com"
```

---

**–ì–æ—Ç–æ–≤–æ!** –ë–æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ! üéâ

