# Claude Code Instructions for doradura

# ‚õî‚õî‚õî STOP! READ THIS FIRST ‚õî‚õî‚õî

## üö® –ü–ï–†–ï–î –õ–Æ–ë–´–ú git commit/push - –û–°–¢–ê–ù–û–í–ò–°–¨ –ò –°–ü–†–û–°–ò! üö®

### –ê–±—Å–æ–ª—é—Ç–Ω—ã–µ –∑–∞–ø—Ä–µ—Ç—ã (–ù–ò–ö–û–ì–î–ê –Ω–µ –Ω–∞—Ä—É—à–∞–π):

‚ùå **–ù–ò–ö–û–ì–î–ê** –Ω–µ –¥–µ–ª–∞–π `git commit` –±–µ–∑ –≤–æ–ø—Ä–æ—Å–∞ "–ú–æ–∂–Ω–æ –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å?"
‚ùå **–ù–ò–ö–û–ì–î–ê** –Ω–µ –¥–µ–ª–∞–π `git push` –±–µ–∑ —è–≤–Ω–æ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚ùå **–ù–ò–ö–û–ì–î–ê** –Ω–µ –¥–µ–ø–ª–æ–π –±–µ–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –¥–ª—è git –æ–ø–µ—Ä–∞—Ü–∏–π:

‚úÖ **–®–ê–ì 1**: –ü–æ–∫–∞–∂–∏ `git diff` –∏–ª–∏ –æ–ø–∏—à–∏ —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
‚úÖ **–®–ê–ì 2**: –°–ø—Ä–æ—Å–∏: "–ú–æ–∂–Ω–æ –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å?"
‚úÖ **–®–ê–ì 3**: –ñ–î–ò —è–≤–Ω–æ–≥–æ "–¥–∞" –∏–ª–∏ "–Ω–µ—Ç" –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚úÖ **–®–ê–ì 4**: –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ "–¥–∞" - –¥–µ–ª–∞–π commit/push

### –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ git –∫–æ–º–∞–Ω–¥–æ–π:

–ü–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º `git commit` –∏–ª–∏ `git push` –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –ø—Ä–æ–≤–µ—Ä—å:

- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å **–Ø–í–ù–û** —Å–∫–∞–∑–∞–ª "–¥–∞" –Ω–∞ —ç—Ç–æ—Ç –∫–æ–º–º–∏—Ç?
- [ ] –Ø –ø–æ–∫–∞–∑–∞–ª —á—Ç–æ –∏–º–µ–Ω–Ω–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å?
- [ ] –Ø –°–ü–†–û–°–ò–õ "–ú–æ–∂–Ω–æ –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å?" –∏ –ø–æ–ª—É—á–∏–ª –æ—Ç–≤–µ—Ç?

**–ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –Ω–∞ –æ–¥–∏–Ω –≤–æ–ø—Ä–æ—Å –æ—Ç–≤–µ—Ç "–Ω–µ—Ç" - –ù–ï –ö–û–ú–ú–ò–¢–¨!**

---

## ‚ö†Ô∏è CRITICAL: Railway Commands

**`railway run` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –õ–û–ö–ê–õ–¨–ù–û –Ω–∞ Mac, –ù–ï –≤ Railway –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ!**

- ‚ùå `railway run --service doradura <command>` - –∑–∞–ø—É—Å–∫–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É –Ω–∞ –õ–û–ö–ê–õ–¨–ù–û–ô –º–∞—à–∏–Ω–µ
- ‚úÖ `railway ssh --service doradura` - –∑–∞—Ö–æ–¥–∏—Ç –í Railway –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- ‚úÖ –ü–æ—Å–ª–µ `railway ssh` –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—ã –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

**–í—Å–µ–≥–¥–∞ –ø–æ–º–Ω–∏:** –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ-—Ç–æ –í–ù–£–¢–†–ò Railway –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ - –∏—Å–ø–æ–ª—å–∑—É–π `railway ssh`, –ù–ï `railway run`!

## Code Audits

When performing code audits, ALWAYS read and follow the severity criteria defined in [`docs/SEVERITY_CRITERIA.md`](docs/SEVERITY_CRITERIA.md). Do NOT inflate severity to fill quotas ‚Äî if only 3 issues are CRITICAL, report 3, not 50.

## CRITICAL RULES

### Commits and Deployments
- **NEVER make commits without explicit user confirmation**
- **NEVER push to GitHub without explicit user confirmation**
- **NEVER deploy without explicit user confirmation**
- Always ask: "–ú–æ–∂–Ω–æ –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å?" and WAIT for response
- Do NOT commit, push, or deploy automatically - ALWAYS ask first
- After making code changes, show what changed and ASK before committing

### Code Changes
- Explain what you're going to change before doing it
- For large changes, show the plan first

### –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (SemVer)

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û** –æ–±–Ω–æ–≤–ª—è–π `version` –≤ `Cargo.toml` –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∫–æ–º–º–∏—Ç–µ –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º SemVer:

–ü—Ä–æ–µ–∫—Ç pre-1.0 (`0.x.y`), –ø–æ—ç—Ç–æ–º—É:

| –ò–∑–º–µ–Ω–µ–Ω–∏–µ | Bump | –ü—Ä–∏–º–µ—Ä |
|-----------|------|--------|
| **–õ–æ–º–∞—é—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è API**, —É–¥–∞–ª–µ–Ω–∏–µ –ø—É–±–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π, —Å–º–µ–Ω–∞ —Å–∏–≥–Ω–∞—Ç—É—Ä, –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î | **MINOR** (`0.X.0`) | `0.2.0` ‚Üí `0.3.0` |
| **–ù–æ–≤–∞—è —Ñ–∏—á–∞**, –Ω–æ–≤—ã–π –º–æ–¥—É–ª—å, –Ω–æ–≤—ã–π endpoint, –∑–∞–º–µ—Ç–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ | **MINOR** (`0.X.0`) | `0.2.0` ‚Üí `0.3.0` |
| **–ë–∞–≥-—Ñ–∏–∫—Å**, –º–µ–ª–∫–∏–µ –ø—Ä–∞–≤–∫–∏, —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π | **PATCH** (`0.0.X`) | `0.2.0` ‚Üí `0.2.1` |

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –û–ø—Ä–µ–¥–µ–ª–∏ —Å—Ç–µ–ø–µ–Ω—å –∏–∑–º–µ–Ω–µ–Ω–∏–π (breaking/feature/fix)
2. –û–±–Ω–æ–≤–∏ `version` –≤ `Cargo.toml` **–¥–æ** –∫–æ–º–º–∏—Ç–∞
3. –£–∫–∞–∂–∏ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –≤ commit message –µ—Å–ª–∏ bump –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–π

**–ü—Ä–∏–º–µ—Ä—ã commit prefixes:**
- `feat:` ‚Üí MINOR bump (–Ω–æ–≤–∞—è —Ñ–∏—á–∞)
- `fix:` ‚Üí PATCH bump (–±–∞–≥-—Ñ–∏–∫—Å)
- `refactor:` ‚Üí PATCH bump (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–≤–µ–¥–µ–Ω–∏—è)
- `perf:` ‚Üí PATCH bump (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
- `feat!:` –∏–ª–∏ `BREAKING:` ‚Üí MINOR bump (–ª–æ–º–∞—é—â–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ)

## YouTube Downloads on Railway

### CRITICAL: Proxy is REQUIRED
- **YouTube downloads on Railway DO NOT work without proxy**
- Railway IPs are flagged by YouTube bot detection
- MUST use proxy (WARP or Tailscale) for downloads to work
- DO NOT suggest removing WARP_PROXY - it's essential
